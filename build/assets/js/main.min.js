$(document).ready(function() {
    if (document.querySelector("#activities-gallery") !== null) {
        var leadTile = 0;
        var jMobileTiles = $(".smallTile:not(.blank-tile)");
        var jTiles = $(".smallTile");
        var mobileTileIndex = 0;
        function displayTiles(indexOfFirst) {
            $(".smallTile").hide();
            for (var i = 0; i < jTiles.length; i++) {
                if (i >= indexOfFirst && i < indexOfFirst + 3) {
                    $(".smallTile").eq(i).show();
                }
            }
        }
        displayTiles(leadTile);
        $("#rightArrow").click(function() {
            if (leadTile + 3 < jTiles.length) {
                leadTile += 3;
            }
            displayTiles(leadTile);
        });
        $("#leftArrow").click(function() {
            if (leadTile >= 3) {
                leadTile -= 3;
            }
            displayTiles(leadTile);
        });
        $(".smallTile").click(function() {
            $(".selected").removeClass("selected");
            $(this).addClass("selected");
            $("#mainTile").html($(this).find("#tileContent").html());
        });
        $("#right-mobile-arrow").click(function() {
            if (mobileTileIndex >= jMobileTiles.length - 1) {
                mobileTileIndex = 0;
            } else {
                mobileTileIndex++;
            }
            $("#mainTile").html($(jMobileTiles[mobileTileIndex]).find("#tileContent").html());
        });
        $("#left-mobile-arrow").click(function() {
            if (mobileTileIndex == 0) {
                mobileTileIndex = jMobileTiles.length - 1;
            } else {
                mobileTileIndex--;
            }
            $("#mainTile").html($(jMobileTiles[mobileTileIndex]).find("#tileContent").html());
        });
    }
});

$(document).ready(function() {
    $(".eventRow").click(function() {
        if ($(this).find("div.dCircle").length > 0) {
            return;
        }
        var collapsed = $(this).find("div.eventDescription").html();
        if (collapsed.indexOf("...") > 0) {
            collapsed = collapsed.replace("...", "");
        } else {
            collapsed += "...";
        }
        $(this).find("div.eventDescription").html(collapsed);
        $(this).find("div.collapsed-text").slideToggle("medium");
        var sign = $(this).find("div.circle").find("div.sign");
        if (sign.attr("class") == "sign collapsed") {
            sign.attr("class", "sign expanded");
            sign.html("-");
        } else {
            sign.attr("class", "sign collapsed");
            sign.html("+");
        }
    });
});

$(document).ready(function() {
    if (document.querySelector(".gallery-container") !== null) {
        var jTiles = $(".small-tile");
        var leadTile = 0;
        displayTiles(leadTile);
        function displayTiles(indexOfFirst) {
            $(".small-tile").hide();
            $("#gallery-caption").hide();
            if ($("#thumbnail-container").css("display") == "block" && $(".gallery-arrow").css("display") == "none") {
                $(".small-tile").show();
            }
            for (var i = 0; i < jTiles.length; i++) {
                if (i >= indexOfFirst && i < indexOfFirst + 4) {
                    $(".small-tile").eq(i).show();
                }
            }
        }
        $("#right-arrow").click(function() {
            if (leadTile + 4 < jTiles.length) {
                leadTile++;
                displayTiles(leadTile);
            }
        });
        $("#left-arrow").click(function() {
            if (leadTile > 0) {
                leadTile--;
                displayTiles(leadTile);
            }
        });
        $(".small-tile").click(function() {
            $("#main-tile").html($(this).attr("data-value"));
            if ($(this).attr("data-value").indexOf('alt="') > 0) {
                var description = $(this).attr("data-value").substring($(this).attr("data-value").indexOf('alt="') + 5);
                description = description.substring(0, description.indexOf('"'));
                $("#gallery-caption").html(description);
                $("#gallery-caption").show();
            } else {
                $("#gallery-caption").hide();
            }
        });
        enquire.register("screen and (min-width : 992px)", {
            match: function() {
                displayTiles(0);
                leadTile = 0;
            }
        });
        enquire.register("screen and (max-width : 992px)", {
            match: function() {
                $(".small-tile").show();
            }
        });
        $("#right-mobile-arrow").click(function() {
            leadTile = leadTile + 1 >= jTiles.length ? 0 : leadTile + 1;
            $("#main-tile").html($(jTiles[leadTile]).attr("data-value"));
            $("#gallery-caption").hide();
        });
        $("#left-mobile-arrow").click(function() {
            leadTile = leadTile - 1 < 0 ? jTiles.length - 1 : leadTile - 1;
            $("#main-tile").html($(jTiles[leadTile]).attr("data-value"));
            $("#gallery-caption").hide();
        });
    }
});

$(document).ready(function() {
    if (document.querySelector("#inner-nav") !== null) {
        function toggleMenu() {
            $("#rNavHome").find("a").text() == "menu" ? $("#rNavHome").find("a").text("home") : $("#rNavHome").find("a").text("menu");
            if ($("#rNavDivider").css("display") != "none") {
                $("#rNavTriangle").slideToggle(200);
            }
            $("#rNavLinks").slideToggle(200);
        }
        function initializeMenu() {
            $("#menuIcon").show();
            $("#rNavLinks").hide();
            $("#rNavTriangle").hide();
            $("#rNavHome").find("a").text("menu");
        }
        initializeMenu();
        $("#menuIcon").click(function() {
            toggleMenu();
        });
    }
});

(function() {
    var nav = document.querySelector(".department-nav");
    if (nav) {
        var more = nav.querySelector(".department-nav__more");
        more.style.display = "block";
    }
})();